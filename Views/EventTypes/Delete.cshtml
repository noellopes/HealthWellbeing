@model HealthWellbeing.Models.EventType

@{
    ViewData["Title"] = "Delete";
}

<div class="container py-4">
    <h1 class="mb-4">Delete Event Type</h1>

    <div class="alert alert-danger d-flex align-items-center p-4 border border-danger rounded shadow-sm" role="alert">
        <i class="bi bi-exclamation-triangle-fill flex-shrink-0" style="font-size: 4rem;"></i>
        <div class="ps-4">
            <h4 class="alert-heading mb-2">Are you sure you want to delete this event type?</h4>
            <p class="mb-0">This action cannot be undone.</p>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-header bg-danger text-light">
            <strong>Event Type Details</strong>
        </div>
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-3">Event Type Name</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.EventTypeName)</dd>

                <dt class="col-sm-3">Scoring Mode</dt>
                <dd class="col-sm-9">
                    @if (Model.EventTypeScoringMode == "fixed") {
                        <span class="badge bg-primary">Fixo</span>
                    }
                    else if (Model.EventTypeScoringMode == "progressive") {
                        <span class="badge bg-success">Progressivo</span>
                    }
                    else if (Model.EventTypeScoringMode == "time_based") {
                        <span class="badge bg-info">Baseado em Tempo</span>
                    }
                    else if (Model.EventTypeScoringMode == "completion") {
                        <span class="badge bg-secondary">Conclusão</span>
                    }
                    else if (Model.EventTypeScoringMode == "binary") {
                        <span class="badge bg-dark">Binário</span>
                    }
                    else {
                        <span class="badge bg-light text-dark">@Model.EventTypeScoringMode</span>
                    }
                </dd>

                <dt class="col-sm-3">Multiplier</dt>
                <dd class="col-sm-9">
                    @{
                        var multiplier = Model.EventTypeMultiplier;
                        string multiplierClass;

                        //  <= 1.0  -> (warning)
                        //  1.0–1.5 -> (secondary)
                        //  1.5–2.0 -> (info)
                        //  > 2.0   -> (primary)
                        if (multiplier <= 1.0m) {
                            multiplierClass = "badge bg-warning";
                        }
                        else if (multiplier <= 1.5m) {
                            multiplierClass = "badge bg-secondary";
                        }
                        else if (multiplier <= 2.0m) {
                            multiplierClass = "badge bg-info";
                        }
                        else {
                            multiplierClass = "badge bg-primary";
                        }
                    }

                    <span class="@multiplierClass fw-semibold">
                        @multiplier.ToString("0.##")x
                    </span>
                </dd>

            </dl>
        </div>
    </div>

    <form asp-action="Delete" class="d-flex gap-3">
        <input type="hidden" asp-for="EventTypeId" />
        <button type="submit" class="btn btn-danger">
            <i class="bi bi-trash-fill"></i> Delete
        </button>
        <a asp-action="Index" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>
    </form>
</div>