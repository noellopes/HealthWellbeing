@{
    /*
    * THIS VIEW WAS CREATED BY GROUP 1 FOR SHARED REUSABILITY
    * DON'T MODIFY, Instead you can copy into your own folder
    */

    var modelType = ViewBag.ModelType as Type;
    var properties = ViewBag.SearchProperties;
}

<div class="collapse mt-2 mb-2" id="postSearch">
    <div class="card card-body">
        <form class="form-inline my-2 my-lg-2" method="get" asp-action="Index">
            <p>Pesquisar por:</p>
            <div class="input-group">
                
                <select class="form-select" name="SearchBy" aria-label="Search by" required>
                    <option value="" disabled>Search by...</option>
                    @foreach (var option in properties)
                    {
                        var selected = (ViewBag.CurrentSearchBy as string) == option ? true : false;
                        <option value="@option" selected="@selected">@HealthWellbeing.Utils.Group1.Functions.GetDisplayName(modelType, option.Split('.')[0])</option>
                    }
                </select>
                <input class="form-control" type="search" placeholder="Pesquisar ..." name="SearchString" value="@ViewBag.CurrentSearchString" aria-label="Search..." required />
            </div>
            <div class="col-12 mt-2 d-flex gap-2 justify-content-end">
                <button class="btn btn-outline-primary" type="submit">
                    <i class="bi bi-search"></i>
                </button>
                <a asp-action="Index" class="btn btn-secondary">
                    Limpar
                </a>
            </div>
        </form>
    </div>
</div>